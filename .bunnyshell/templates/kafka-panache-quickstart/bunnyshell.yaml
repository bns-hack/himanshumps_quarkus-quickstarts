kind: Environment
name: Quarkus kafka-panache-quickstart Application (development profile)
type: ephemeral
environmentVariables:
  AMQ_USER: bns_secret(amquser)
  AMQ_PASSWORD: bns_secret(qHohxn9w)
components:
  -
    kind: Database
    name: zookeeper
    dockerCompose:
      environment:
        LOG_DIR: /tmp/logs
      image: himanshumps/zookeeper
      ports:
        - '2181:2181'
      deploy:
        resources:
          limits:
            cpus: "1"
            memory: "3072M"
          reservations:
            cpus: "1"
            memory: "3072M"
  -
    kind: Database
    name: kafka
    dockerCompose:
      image: himanshumps/kafka
      ports:
        - '9092:9092'
      environment:
        LOG_DIR: "/tmp/logs"
        KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://localhost:9092
        KAFKA_LISTENERS: PLAINTEXT://0.0.0.0:9092
        KAFKA_ZOOKEEPER_CONNECT: "{{ components.zookeeper.ingress.hosts[0] | trimAll \"/\" }}"
      deploy:
        resources:
          limits:
            cpus: "1"
            memory: "3072M"
          reservations:
            cpus: "1"
            memory: "3072M"
